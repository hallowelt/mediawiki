"use strict";const t=require("vue"),g=require("./CdxLabel.cjs"),y=require("./CdxMessage.cjs"),s=require("./constants.js"),a=require("./useGeneratedId.cjs"),h=require("./useComputedDisabled.cjs"),C=require("./_plugin-vue_export-helper.js");require("./Icon.js");require("./useComputedDirection.cjs");require("./useComputedLanguage.cjs");require("./useFieldData.cjs");require("./useSplitAttributes.cjs");require("./CdxButton.cjs");require("./useIconOnlyButton.js");require("./useSlotContents.js");require("./useWarnOnce.cjs");const q=s.makeStringTypeValidator(s.ValidationStatusTypes),I=t.defineComponent({name:"CdxField",components:{CdxLabel:g,CdxMessage:y},props:{labelIcon:{type:[String,Object],default:""},optionalFlag:{type:String,default:""},hideLabel:{type:Boolean,default:!1},isFieldset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},status:{type:String,default:"default",validator:q},messages:{type:Object,default:()=>({})}},setup(e,{slots:n}){const{disabled:r,status:u,isFieldset:d}=t.toRefs(e),i=h(r),l=t.computed(()=>({"cdx-field--disabled":i.value})),o=a("label"),c=a("description"),p=a("input"),m=t.computed(()=>d.value?void 0:p);t.provide(s.FieldInputIdKey,m);const f=t.computed(()=>!d.value&&n.description?c:void 0);t.provide(s.FieldDescriptionIdKey,f),t.provide(s.DisabledKey,i),t.provide(s.FieldStatusKey,u);const v=t.computed(()=>e.status!=="default"&&e.status in e.messages?e.messages[e.status]:""),b=t.computed(()=>e.status==="default"?"notice":e.status);return{rootClasses:l,computedDisabled:i,labelId:o,descriptionId:c,inputId:p,validationMessage:v,validationMessageType:b}}});const F={class:"cdx-field__help-text"},S={key:0,class:"cdx-field__validation-message"};function $(e,n,r,u,d,i){const l=t.resolveComponent("cdx-label"),o=t.resolveComponent("cdx-message");return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.isFieldset?"fieldset":"div"),{class:t.normalizeClass(["cdx-field",e.rootClasses]),"aria-disabled":!e.isFieldset&&e.computedDisabled?!0:void 0,disabled:e.isFieldset&&e.computedDisabled?!0:void 0},{default:t.withCtx(()=>[t.createVNode(l,{id:e.labelId,icon:e.labelIcon,"visually-hidden":e.hideLabel,"optional-flag":e.optionalFlag,"input-id":e.inputId,"description-id":e.descriptionId,disabled:e.computedDisabled,"is-legend":e.isFieldset},t.createSlots({default:t.withCtx(()=>[t.renderSlot(e.$slots,"label")]),_:2},[e.$slots.description&&e.$slots.description().length>0?{name:"description",fn:t.withCtx(()=>[t.renderSlot(e.$slots,"description")]),key:"0"}:void 0]),1032,["id","icon","visually-hidden","optional-flag","input-id","description-id","disabled","is-legend"]),t.createElementVNode("div",{class:t.normalizeClass(["cdx-field__control",{"cdx-field__control--has-help-text":e.$slots["help-text"]&&e.$slots["help-text"]().length>0||e.validationMessage}])},[t.renderSlot(e.$slots,"default")],2),t.createElementVNode("div",F,[t.renderSlot(e.$slots,"help-text")]),!e.computedDisabled&&e.validationMessage?(t.openBlock(),t.createElementBlock("div",S,[t.createVNode(o,{type:e.validationMessageType,inline:!0},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.validationMessage),1)]),_:1},8,["type"])])):t.createCommentVNode("",!0)]),_:3},8,["class","aria-disabled","disabled"])}const D=C._export_sfc(I,[["render",$]]);module.exports=D;
