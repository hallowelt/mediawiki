"use strict";const t=require("vue"),g=require("./CdxLabel.js"),y=require("./CdxMessage.js"),s=require("./constants.js"),a=require("./useGeneratedId.js"),h=require("./useFieldData.js"),I=require("./_plugin-vue_export-helper.js");require("./Icon.js");require("./useSplitAttributes.js");require("./CdxButton.js");require("./useIconOnlyButton.js");require("./useSlotContents.js");require("./useWarnOnce.js");const C=s.makeStringTypeValidator(s.ValidationStatusTypes),F=t.defineComponent({name:"CdxField",components:{CdxLabel:g,CdxMessage:y},props:{labelIcon:{type:[String,Object],default:""},optionalFlag:{type:String,default:""},hideLabel:{type:Boolean,default:!1},isFieldset:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},status:{type:String,default:"default",validator:C},messages:{type:Object,default:()=>({})}},setup(e,{slots:n}){const{disabled:r,status:u,isFieldset:i}=t.toRefs(e),d=h.useComputedDisabled(r),l=t.computed(()=>({"cdx-field--disabled":d.value})),o=a.useGeneratedId("label"),c=a.useGeneratedId("description"),p=a.useGeneratedId("input"),m=t.computed(()=>i.value?void 0:p);t.provide(s.FieldInputIdKey,m);const f=t.computed(()=>!i.value&&n.description?c:void 0);t.provide(s.FieldDescriptionIdKey,f),t.provide(s.DisabledKey,d),t.provide(s.FieldStatusKey,u);const v=t.computed(()=>e.status!=="default"&&e.status in e.messages?e.messages[e.status]:""),b=t.computed(()=>e.status==="default"?"notice":e.status);return{rootClasses:l,computedDisabled:d,labelId:o,descriptionId:c,inputId:p,validationMessage:v,validationMessageType:b}}});const q={class:"cdx-field__help-text"},D={key:0,class:"cdx-field__validation-message"};function S(e,n,r,u,i,d){const l=t.resolveComponent("cdx-label"),o=t.resolveComponent("cdx-message");return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.isFieldset?"fieldset":"div"),{class:t.normalizeClass(["cdx-field",e.rootClasses]),"aria-disabled":!e.isFieldset&&e.computedDisabled?!0:void 0,disabled:e.isFieldset&&e.computedDisabled?!0:void 0},{default:t.withCtx(()=>[t.createVNode(l,{id:e.labelId,icon:e.labelIcon,"visually-hidden":e.hideLabel,"optional-flag":e.optionalFlag,"input-id":e.inputId,"description-id":e.descriptionId,disabled:e.computedDisabled,"is-legend":e.isFieldset},t.createSlots({default:t.withCtx(()=>[t.renderSlot(e.$slots,"label")]),_:2},[e.$slots.description&&e.$slots.description().length>0?{name:"description",fn:t.withCtx(()=>[t.renderSlot(e.$slots,"description")]),key:"0"}:void 0]),1032,["id","icon","visually-hidden","optional-flag","input-id","description-id","disabled","is-legend"]),t.createElementVNode("div",{class:t.normalizeClass(["cdx-field__control",{"cdx-field__control--has-help-text":e.$slots["help-text"]&&e.$slots["help-text"]().length>0||e.validationMessage}])},[t.renderSlot(e.$slots,"default")],2),t.createElementVNode("div",q,[t.renderSlot(e.$slots,"help-text")]),!e.computedDisabled&&e.validationMessage?(t.openBlock(),t.createElementBlock("div",D,[t.createVNode(o,{type:e.validationMessageType,inline:!0},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.validationMessage),1)]),_:1},8,["type"])])):t.createCommentVNode("",!0)]),_:3},8,["class","aria-disabled","disabled"])}const $=I._export_sfc(F,[["render",S]]);module.exports=$;
